# 基本パッケージ構成
以下、パッケージ構造に従い実装を行うこと。
```
パッケージroot
    ├─── controller/（プレゼンテーション層）
    │        └── リクエスト処理・ビュー制御
    │
    ├─── service/（ビジネスロジック層）
    │        ├── ビジネスロジック・トランザクション管理（インターフェース）
    │        └── impl/
    │             └── ビジネスロジック・トランザクション管理（実装クラス）
    │
    ├─── repository/（データアクセス層）
    │        ├── データベース操作（インターフェース）
    │        └── impl/
    │             └── データベース操作（実装クラス）
    │
    ├─── common/（共通部品）
    │        ├── セッション管理など、機能共通で使用する部品（インターフェース）
    │        └── impl/
    │             └── セッション管理など、機能共通で使用する部品（実装クラス）
    │
    ├─── cconfig/（設定クラス）
    │        └── SpringSecurityなどの設定クラス
    │
    ├─── util/（ユーティリティクラス）
    │
    └─── model/（レイヤー間のデータ受け渡し）
            │ 
            ├── form/
            │     └── 画面（テンプレート） - プレゼンテーション層間のデータ受け渡し
            ├── dto/
            │     └── プレゼンテーション層 - ビジネスロジック層間のデータ受け渡し、共通部品クラスへのデータの受け渡し
            └── entity/
                  └── ビジネスロジック層 - 記憶媒体間のデータ受け渡し
```

---

# 三層アーキテクチャの依存関係原則

- 各層は下位層のみに依存し、上位層には依存しない
- 層を跨いだ直接的な呼び出しは禁止
  - Dependency Injectionを活用してインターフェース経由でアクセス
  - ビジネスロジック層、データアクセス層、共通部品では完全抽象化されたインターフェースと実装クラスの両方を作成し、クラス間のアクセスはインターフェースによるDependency Injectionを活用する
  - 特に、データアクセス層では実装クラスの切替で容易にデータベースの切替が可能な実装にすること。

---

# その他コーディング仕様
- Mavenプロジェクトとする。
- パッケージは既存の`pom.xml`に記載の情報に従う。
- JavaおよびSpring Boot、Mavenのバージョンは既存の`pom.xml`に従う。
- package宣言は必ず記述する。
- 必要なimport文を記述する。
- getter/setterはLombokを使用する。
- Formクラスのデータ受け渡しは@ModelAttributeで行い、テンプレートではFormクラス経由で値を参照すること。
- 明示的なデータ変換メソッドをFormクラスに実装すること。
- 処理結果DTOによる統一的な結果管理を実装すること。
- イミュータブルな操作を実装してデータ整合性を保証すること。
- 二重送信防止のためPRGパターンによる実装を行うこと。

